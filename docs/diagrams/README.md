# Architecture Diagrams (Mermaid)

Diagrams for Voice & Chat Architecture and A/B Testing docs. Edit `.mmd` files — PNGs are generated by export scripts.

## Voice & Chat Architecture

| File | Description |
|------|-------------|
| `overview.mmd` | Shared intelligence layer + 3 UIs + Voice Mode |
| `chat-flow.mmd` | Chat: User → UI → API → RAG → GPT → Stream |
| `voice-flow.mmd` | Voice: Mic → WebRTC → Realtime API → TTS + transcript |
| `rag-search.mmd` | RAG pipeline: Embedding → Semantic + Keyword → Hybrid → Top K |
| `graph-expansion.mmd` | Related-chunk traversal |
| `decision-tree.mmd` | Chat vs Voice style selection |

## A/B Testing Architecture

| File | Description |
|------|-------------|
| `ab-architecture.mmd` | System layers (UI, API, Generation, Analytics) |
| `ab-blueprints.mmd` | Blueprint A vs B flow |
| `ab-four-blocks.mmd` | Four Blocks detection and intervention |
| `ab-data-flow.mmd` | Complete A/B testing data flow |

Uses `mermaid-config.json` for dark text on light backgrounds (print-friendly).

## Regenerate

```bash
# Voice & Chat Architecture (diagrams + PDF)
bash docs/export-architecture-pdf.sh

# A/B Testing Architecture (diagrams + PDF)
bash docs/generate-ab-testing-pdf.sh
```

## Edit workflow

1. Edit the `.mmd` file
2. Run the appropriate export script above
